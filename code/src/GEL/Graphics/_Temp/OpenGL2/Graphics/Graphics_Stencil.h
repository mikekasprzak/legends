// - ------------------------------------------------------------------------------------------ - //
// GRAPHICS STENCIL - Stencil Buffer
// - ------------------------------------------------------------------------------------------ - //
#ifndef __Graphics_Stencil_H__
#define __Graphics_Stencil_H__
// - ------------------------------------------------------------------------------------------ - //
#include "Graphics_Constants.h"
#include "Graphics_Buffer.h"
// - ------------------------------------------------------------------------------------------ - //

// - ------------------------------------------------------------------------------------------ - //
inline void gelSetStencilMask( int Mask = 0 ) {
	glStencilMask( Mask );
}
// - ------------------------------------------------------------------------------------------ - //
inline void gelClearStencil( int Mask = 0 ) {
	gelSetStencilMask( Mask );
	gelClear( false, false, true );
}
// - ------------------------------------------------------------------------------------------ - //

// - ------------------------------------------------------------------------------------------ - //
// Enable or Disable the Stencil Test (i.e. actually using the Stencil Buffer) //
// - ------------------------------------------------------------------------------------------ - //
inline void gelEnableStencilTest() {
	glEnable( GL_STENCIL_TEST );
}
// - ------------------------------------------------------------------------------------------ - //
inline void gelDisableStencilTest() {
	glDisable( GL_STENCIL_TEST );
}
// - ------------------------------------------------------------------------------------------ - //

// - ------------------------------------------------------------------------------------------ - //
// Sometimes we want a simple stencil behavior, even though they can do so much more with them. //
// These functions Enable or Disable writing to the Stencil Buffer //
// - ------------------------------------------------------------------------------------------ - //
inline void gelEnableStencilWriting() {
	glColorMask( GL_FALSE, GL_FALSE, GL_FALSE, GL_FALSE );
	glStencilMask( 0xff );
	
	glStencilOp( GL_KEEP, GL_KEEP, GL_INCR );
}
// - ------------------------------------------------------------------------------------------ - //
inline void gelDisableStencilWriting() {
	glColorMask( GL_TRUE, GL_TRUE, GL_TRUE, GL_TRUE );
	glStencilMask( 0 );
}
// - ------------------------------------------------------------------------------------------ - //

// - ------------------------------------------------------------------------------------------ - //
// Advanced Stencil Operations //
// - ------------------------------------------------------------------------------------------ - //
inline void gelSetStencilFunc( int Func, int Variable, int Mask ) {
	glStencilFunc( Func, Variable, Mask );
}
// - ------------------------------------------------------------------------------------------ - //
inline void gelSetScencilOp( int Fail, int zFail, int zPass ) {
	glStencilOp( Fail, zFail, zPass );
}
// - ------------------------------------------------------------------------------------------ - //

// - ------------------------------------------------------------------------------------------ - //
// Does the system have a Stencil Buffer? //
// - ------------------------------------------------------------------------------------------ - //
inline bool gelHasStencil() {
	// TODO: If no stencil buffer available, make this fail //
	return true;
}
// - ------------------------------------------------------------------------------------------ - //

// - ------------------------------------------------------------------------------------------ - //
#endif // __Graphics_Stencil_H__ //
// - ------------------------------------------------------------------------------------------ - //
